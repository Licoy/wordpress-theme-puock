"use strict";jQuery(function(){var s=jQuery;function t(t,e){s(document).on("click",t,function(){var t=s(e);t.hasClass("cur")?t.removeClass("cur"):t.addClass("cur")})}function d(t){wp.media.editor.insert(t)}s("head").append("\n    <style>.pk-media-wrap{background:#fff;border: 1px solid #ccc;box-shadow: 2px 2px 3px rgba(0, 0, 0, 0.24);padding: 10px;position: absolute;top: 60px;\n    width: 380px}.cur.pk-media-wrap{display:block!important;}#insert-smiley-wrap img{width:20px;cursor: pointer}\n    #insert-smiley-wrap img:hover{opacity: 0.7;transition: all .3s}\n    </style>\n    "),t("#insert-smiley-button","#insert-smiley-wrap"),t("#insert-shortcode-button","#insert-shortcode-wrap"),s(document).on("click",".add-smily",function(){d(s(this).attr("data-smilies")),s("#insert-smiley-wrap").removeClass("cur")}),s(document).on("click",".add-shortcode",function(){var t=s(this),e=t.attr("data-key"),i=t.attr("data-attr"),t=t.attr("data-content"),n="",o=(n=!(n="undefined"!=typeof tinymce&&tinymce.activeEditor&&(o=tinymce.activeEditor)&&!o.hidden?o.selection.getContent({format:"text"}):n)&&"undefined"!=typeof wpActiveEditor&&wpActiveEditor&&(o=document.getElementById(wpActiveEditor))&&o.selectionStart!==o.selectionEnd?o.value.substring(o.selectionStart,o.selectionEnd):n).trim()||t,r="[".concat(e);if(i){var a,c=JSON.parse(i);for(a in c)r+=" ".concat(a,"='").concat(c[a],"'")}d(r+="]".concat(o,"[/").concat(e,"]")),s("#insert-shortcode-wrap").removeClass("cur")})}),window.puockSelectMedia=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=wp.media(t);i.on("select",function(){var t=i.state().get("selection").first();e&&e(t)}),i.open()};